const switcher=document.querySelector(".switcher_input"),wrapper=document.querySelector(".wrapper"),headerBtn=document.querySelector(".header_btn"),headerLiA=Array.from(document.querySelectorAll(".header_li_a")),slideImg1=document.querySelector(".slideImg1"),slideImg2=document.querySelector(".slideImg2"),slideImg3=document.querySelector(".slideImg3"),slideImg4=document.querySelector(".slideImg4"),sections=Array.from(document.querySelectorAll("section")),feedBackSliderCont=document.querySelector(".slider_feedback_container"),pagDivArr=Array.from(document.querySelectorAll(".pagination"));switcher.addEventListener("click",()=>{wrapper.classList.toggle("active"),headerBtn.classList.toggle("active"),headerLiA.map((e,t,o)=>e.classList.toggle("active"))});const slider=document.querySelector(".slider_container"),arrPhoto=[slideImg1,slideImg2,slideImg3,slideImg4];let count=0;for(let e=0;e<arrPhoto.length;e++){document.querySelector(".slider_container");slider.style.backgroundImage=`url(${arrPhoto[e]})`}const sidescroll=e=>{const t=slider.children[0].clientWidth;slider.scroll({top:0,left:t*e,behavior:"smooth"})};setInterval(()=>{sidescroll(count),count<arrPhoto.length-1?count++:count=0},3e3);const arrCard=Array.from(document.querySelectorAll(".session_card"));arrCard.map((e,t,o)=>e.addEventListener("click",t=>{e.classList.toggle("active_card"),setTimeout(()=>{e.classList.toggle("active_card"),e.querySelector(".flip1").classList.toggle("opacity"),e.querySelector(".flip2").classList.toggle("opacity")},170)}));const scrollFidBack=e=>{const t=feedBackSliderCont.children[e].clientWidth+80,o=feedBackSliderCont.children[e];Array.from(feedBackSliderCont.children).map(e=>e.classList.remove("scale")),feedBackSliderCont.children[e],feedBackSliderCont.scroll({top:0,left:e*t,behavior:"smooth"}),o.classList.add("scale")};pagDivArr.map((e,t)=>e.addEventListener("click",()=>{scrollFidBack(t)})),scrollFidBack(1);const cells=31,items=[{name:"Spa",img:"./img/17301.jpg",chance:10,description:"одно бесплатное посещение Spa"},{name:"massage",img:"./img/spa-dlya-nee-1.jpg",chance:40,description:"один бесплатный курс расслабляющего массажа"},{name:"plavanie",img:"./img/plavanie.jpg",chance:60,description:"одно бесплатное посещение бассейна"},{name:"diving",img:"/img/GBR-potato-cod-site.jpg",chance:80,description:"одно бесплатное погружение с инструктором"}];function getItem(){let e;for(;!e;){const t=Math.floor(1e5*Math.random());items.forEach(o=>{t<o.chance&&!e&&(e=o)})}return e}function generateItems(){document.querySelector(".list").remove(),document.querySelector(".scope").innerHTML=' \n    <ul class = "list"></ul>\n    ';const e=document.querySelector(".list");for(let t=0;t<31;t++){const t=getItem(),o=document.createElement("li");o.classList.add("list_item"),o.classList.add(t.name),o.innerHTML=`\n        <img src = "${t.img}" alt = "" /> \n        `,e.append(o)}}function start(){generateItems();const e=document.querySelector(".list"),t=e.querySelectorAll("li")[15];setTimeout(()=>{e.style.left="50%",e.style.transform="translate3d(-50%, 0, 0)",setTimeout(()=>rouletteSlidePopup(0,t),5500)},0)}generateItems();const rouletteSlidePopup=(e,t)=>{if(t){let e;items.map(o=>Array.from(t.classList).includes(o.name)?e=o:o);const o=document.querySelector(".roulette_popup"),r=document.querySelector(".roulette_popup_description");popupImg.src=e.img,r.innerHTML=e.description,popupImg.classList.add("popup_img"),o.prepend(popupImg)}const o=document.querySelector(".roulette_section"),r=o.children[0].clientHeight;o.scroll({top:r*e,left:0,behavior:"smooth"})};rouletteSlidePopup(1);const popupImg=document.createElement("img"),btnPopup=document.querySelector(".btn_popup");btnPopup.addEventListener("click",()=>{rouletteSlidePopup(1)});const containersAboutritm=document.querySelectorAll(".containers_aboutritm");for(let e=0;e<containersAboutritm.length;e++){const t=containersAboutritm[e];t.addEventListener("mousemove",rotate),t.addEventListener("mouseout",stoprotate)}function rotate(e){const t=this.querySelector(".img_aboutritm"),o=t.offsetHeight/2;t.style.transform="rotateX("+-(e.offsetY-o)/5+"deg) rotateY("+(e.offsetX-o)/5+"deg)"}function stoprotate(e){this.querySelector(".img_aboutritm").style.transform="rotate(0)"}const inputDate=document.querySelector(".date_input"),date=new Date,month=date.getMonth()<10?"0"+(date.getMonth()+1):date.getMonth()+1,day=date.getDay()<10?"0"+(date.getDay()+1):date.getDay()+1;inputDate.value=date.getFullYear()+"-"+month+"-"+day;const bookplaceBtn=document.querySelector(".bookplace");bookplaceBtn.addEventListener("click",()=>{const e=["name","surname","email","types of services","date"],t=document.forms.booking_data,o=Array.from(t.elements);o.pop();if("true"==inputPlace(o)){const t=o.map((t,o,r)=>[e[o],t.value]),r=Object.fromEntries(t);console.log(r);const c=JSON.stringify(r);console.log(c),bookplaceAnimation()}});const bookplaceAnimation=()=>{bookplaceBtn.innerHTML="Вы записаны",bookplaceBtn.classList.add("bookplace-active")},exit=document.querySelector(".exit_popupbooking"),popapBooking=document.querySelector(".popupbooking_background");exit.addEventListener("click",()=>{popapBooking.classList.remove("popupbooking_active")}),headerBtn.addEventListener("click",()=>{popapBooking.classList.add("popupbooking_active")});const inputPlace=e=>{let t="true";return e.map(e=>""==e.value?[e.placeholder="заполните поле ввода",t="false"]:e),t},scroll=e=>{wrapper.scroll({top:sections[e].offsetTop,left:0,behavior:"smooth"})},elements=Array.from(document.querySelectorAll(".header_li_a"));elements.map((e,t)=>e.addEventListener("click",()=>{scroll(t)}));